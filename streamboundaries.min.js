(function(e,t,n){function u(t,n){var r=e(t.target),i=r.offset();console.log(i,n);return{x:t.pageX-i.left+n.left,y:t.pageY-i.top+n.top}}var r="thumb",i="width",s="height";var o={init:function(o){var a=this;if(a.length>1){a.each(function(){e.fn.streamBoundaries.apply(e(this),arguments)});return a}a.s=e.extend({bg:"#DEDEDE",bounds:false,height:"5px",onupdate:function(){},thumb:a.find("*:first"),thumbBg:"#333",thumbHeight:"5px",thumbWidth:"10%",width:"300px"},o);a.offsetX=0;a.rect=a[0].getBoundingClientRect();(function(){a.css({width:a.s[i],height:a.s[s],background:a.s.bg,position:"relative"});a.s[r].css({width:a.s[r+"Width"],height:a.s[r+"Height"],background:a.s[r+"Bg"],position:"absolute",cursor:"pointer"});var e=a[s](),t=a.s[r][s]();if(t>e){a.s[r].css({top:-(t-e)/2})}a.s.bounds={left:0,right:a[i]()-a.s[r][i]()}})();a.wmm=function(e){e.preventDefault();var t=e.clientX-a.offsetX,n,i=a.s.bounds.left,s=a.s.bounds.right;if(t<=i){n=i}else if(t>=s){n=s}else{n=t}a.s[r].css({left:n});a.s.onupdate.call(a,{boundaries:a.s.bounds,percentage:n/(s-i),position:n})};a.mousedown(function(n){n.preventDefault();var r=e(t);a.offsetX=u(n,a.rect).x;r.mousemove(a.wmm);r.one("mouseup",function(){r.unbind("mousemove",a.wmm);a.offsetX=0})});a.c=n;console.log(a);n++;return a},updateBounds:function(t){this.s.bounds=e.extend(t,this.s.bounds)}};e.fn.streamBoundaries=function(t){var n=e(this);if(o[t]){return o[t].apply(n,Array.prototype.slice.call(arguments,1))}else if(Object.prototype.toString.call(t)==="[object Object]"||!t){return o["init"].apply(n,arguments)}else{e.error(["The method ",t,"does not exist in this function"].join(""))}}})(jQuery,this,0)