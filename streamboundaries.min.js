(function(e,t,n){function p(t,n){var r=e(t.target),i=r.offset();return{x:t.pageX-i.left+n.left,y:t.pageY-i.top+n.top}}var r="thumb",i="width",s="height",o="apply",u="call",a="offset",f="bounds",l="css",c="orientation";var h={init:function(h){function v(){var e=d.s[r],t=d[s](),n=e[s](),o=d[i](),u=e[i]();if(n>t&&d.s[c]==="x"){e[l]({top:-(n-t)/2})}if(u>o&&d.s[c]==="y"){e[l]({left:-(u-o)/2})}if(d.s[f]===!1||d["auto"+f]){d["auto"+f]=!0;d.s[f]={bottom:d[s]()-e[s](),left:0,top:0,right:d[i]()-e[i]()}}}var d=this;if(!d.length){return d}if(d.length>1){d.each(function(){e.fn.streamBoundaries[o](e(this),arguments)});return d}d.s=e.extend({autoRotate:!0,bg:"#DEDEDE",bounds:!1,height:"5px",onUpdate:function(){},orientation:"x",thumb:d.find("*:first"),thumbBg:"#333",thumbHeight:"5px",thumbWidth:"10%",width:"300px"},h);d[a+"X"]=0;d[a+"Y"]=0;d["auto"+f]=!1;(function(){var e=d.s,t=e[r],n=e[c]==="x",o=n&&e.autoRotate;d[l]({width:e[o?i:s],height:e[o?s:i],background:e.bg,position:"relative"});t[l]({width:e[r+(o?"Width":"Height")],height:e[r+(o?"Height":"Width")],background:e[r+"Bg"],position:"absolute",cursor:"pointer"});v()})();d.wmm=function(e){e.preventDefault();var t=e.clientX-d[a+"X"],n=e.clientY-d[a+"Y"],i=0,s=0,o=d.s,c=o[f].bottom,h=o[f].left,p=o[f].top,v=o[f].right;if(t<=h){i=h}else if(t>=v){i=v}else{i=t}if(n<=p){s=p}else if(n>=c){s=c}else{s=n}o[r][l]({left:i,top:s});o.onUpdate[u](d,{bounds:d.s[f],originalEvent:e,px:i/(v-h),py:s/(c-p),x:i,y:s})};d.mousedown(function(n){n.preventDefault();v();d.rect=d[0].getBoundingClientRect();var r=e(t),i=p(n,d.rect);d[a+"X"]=i.x;d[a+"Y"]=i.y;r.mousemove(d.wmm);r.one("mouseup",function(){r.unbind("mousemove",d.wmm)})});d.c=n;n++;return d},updateBounds:function(t){T["auto"+f]=!1;this.s[f]=e.extend(t,this.s[f])}};e.fn.streamBoundaries=function(t){var n=e(this);if(h[t]){return h[t][o](n,Array.prototype.slice[u](arguments,1))}else if(Object.prototype.toString[u](t)==="[object Object]"||!t){return h["init"][o](n,arguments)}else{e.error(["The method ",t,"does not exist"].join(""))}}})(jQuery,this,0)